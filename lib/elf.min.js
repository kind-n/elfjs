/**
 * elf.js
 * 
 * @copyright http://www.elfjs.org
 * 
 * @version 0.0.8
 * @license MIT
 * 
 */
"use strict";!function(e){function t(){return Array.prototype.slice.apply(this,arguments)}function n(e){return Array.isArray(e)}function r(e){return void 0!==e&&null!==e}function i(e){return"string"==typeof e||"number"==typeof e}function o(e){return r(e)&&"object"==typeof e}function a(e){return r(e)&&"string"==typeof e}function u(e,t,n){for(var r=n||0,i=t.length,o=0;o<i;o++)if(t.charAt(o)!==e.charAt(r+o))return!1;return!0}function c(e){return JSON.parse(e)}function s(e){return JSON.stringify(e)}function f(e){return lt.innerHTML=e,lt.textContent}function l(e,t){return e.hasOwnProperty(t)}function p(e,t,n,r){return Object.defineProperty(e,t,h(n,r))}function h(e,t){return{configurable:!0,enumerable:!!t,writable:!0,value:e}}function d(e){return function(){return e()||R()}}function m(e){for(var t=[],i=e.length,o=0;o<i;o++){var a=e[o];n(a)?t.push.apply(t,m(a)):r(a)&&t.push(a)}return t}function v(e,t){return g(e,t),function(){x(e,t)}}function g(e,t){if(e.indexOf(t)<0)return 1===e.push(t)}function x(e,t){var n=e.indexOf(t);if(n>=0)return e.splice(n,1),0===e.length}function y(e){return e.toLowerCase()}function b(e,t){return function(n){n.call(e,t)}}function E(e,t){for(;e.length;)t(e.pop())}function k(e,t){return function(n,r){for(var i,o,a=0,u=0,c=0,s=!1,f=!1,l=r||0,p=e.length,h="\\";l<p;l++)if(i=o,o=e.charAt(l),s)"'"===o&&i!==h&&(s=!1);else if(f)'"'===o&&i!==h&&(f=!1);else if(0!==a||0!==u||0!==c||o!==n)switch(o){case"{":a++;break;case"}":a--;break;case"(":u++;break;case")":u--;break;case"[":c++;break;case"]":c--;break;case"'":s=!0;break;case'"':f=!0}else if(t(l))break;return l}}function w(e,t){if(o(e)&&o(t)){for(var n in e){if(!l(t,n))return!1;if(!w(e[n],t[n]))return!1}for(var n in t)if(!l(e,n))return!1;return!0}return e===t}function O(e,t){function n(){var e=s.responseText,n=1223===s.status?200:s.status;0===n&&(n=e?200:0);var r={},i=(s.getAllResponseHeaders()||"").trim();i&&i.split("\n").forEach(function(e){var t=":",n=e.trim().split(t),i=n.shift().trim(),o=n.join(t).trim();r[i]=o}),200<=n&&n<300?t.next({status:n,headers:r,text:function(){return e},json:function(){return c(e)}}):t.loss(s),R()}function r(){t.loss(s),R()}var i="Content-Type",o="X-Requested-With",a=e.method||"GET",u=e.headers||{},s=new XMLHttpRequest;s.open(a.toUpperCase(),e.url,!0),M(s,wt,n),M(s,Tt,r),l(u,i)||S(s,i,"application/x-www-form-urlencoded; charset=UTF-8"),l(u,o)||S(s,o,"XMLHttpRequest");for(var f in u)S(s,f,u[f]);return s.send(e.body),function(){q(s,wt,n),q(s,Tt,r),s.abort()}}function T(e,t){function n(e){delete at[i],t.next({status:200,headers:{},text:function(){return o(e)?s(e):e},json:function(){return e}}),R()}function r(e){delete at[i],t.loss(e),R()}var i="Elf"+(1e9*Math.random()|0),a=j("script");return at[i]=n,M(a,Tt,r),D(a,Ot,"text/javascript"),D(a,St,e.url),F(ft,a),function(){at[i]&&(at[i]=function(){delete at[i]}),N(a)}}function S(e,t,n){e.setRequestHeader(t,n)}function R(){Gt&&(Gt=!1,setTimeout(function(){Wt.forEach(function(e){e.duplex&&e.forceUpdate()}),Gt=!0}))}function A(e){return{dispose:v(Wt,e)}}function C(e){return ut.createComment(e)}function L(e){return ut.createTextNode(e)}function j(e,t){return t?ut.createElementNS(t,e):ut.createElement(e)}function F(e){m(t.call(arguments,1)).forEach(e.appendChild,e)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function P(e,t){e.dispatchEvent(new t.constructor(t.type,t))}function M(e,t,n){e.addEventListener(t,n,!1)}function q(e,t,n){e.removeEventListener(t,n,!1)}function D(e,t,n){switch(Zt[t]||0){case 0:e.setAttribute(t,n);break;case 1:e[t].cssText=V(n);break;case 2:e[t]=!1!==n||n;break;case 3:e[t]=n}}function I(e,t){switch(Zt[t]||0){case 0:e.removeAttribute(t);break;case 1:e[t].cssText="";break;case 2:e[t]=!1;break;case 3:e[t]=""}}function V(e){return o(e)?Ge(e,function(e,t){return t.replace(pt,function(e){return"-"+y(e)})+":"+e}).join(";"):e}function H(e){return e.match(ht)[0]}function U(e){var t=e.match(mt);if(t)return{keys:t[1],body:t[2]}}function z(e){for(var t,n={props:{}};t=e.match(vt);e=e.substr(t[0].length)){var r=t[1],i=t[3]||t[4]||t[5]||"";"elf-each"!==r?"elf-when"!==r?n.props[r]=i:n.when=i.trim():n.each=U(i)}return n}function X(e){function t(t){return u(e,bt,t)}function n(t){return u(e,yt,t)&&ht.test(e.charAt(t+2))}function r(t){return u(e,xt,t)&&ht.test(e.charAt(t+1))}function i(o){return o=e.indexOf(xt,o),o>=0?t(o)||n(o)||r(o)?o:i(o+1):h}function o(t){return k(e,function(){return!0})(kt,t)}function a(e,t){e&&(s[c]=e,c>0?s[c-1].children.push(e):f.push(e),t&&c++)}for(var c=0,s=[],f=[],p=0,h=e.length;p<h;)t(p)?p=function(t){return t=e.indexOf(Et,t),t>=0?t:h}(p+4)+3:n(p)?function(t,n){var r=H(e.slice(t+2,n));if(!l(Qt,r))for(;c>0&&s[--c].qname!==r;);}(p,p=o(p+2)+1):r(p)?function(t,n){var r=H(e.slice(t+1,n)),i=z(e.slice(t+1+r.length,n)),o=l(Qt,r)||"/"===e.charAt(n-2);a({each:i.each,when:i.when,props:i.props,qname:r,level:c,children:[]},!o)}(p,p=o(p+1)+1):function(t,n){a(e.slice(t,n).trim())}(p,p=i(p));return f.length,f[0]||""}function Y(e){return a(e)?G(e):e.each&&e.level>0?K(e):e.when?J(e):B(e)}function B(e){return"Elf.v(Elf.c("+s(e.qname)+"),"+Z(e)+(e.children.length?","+W(e):"")+")"}function K(e){return"Elf.m("+e.each.body+",function("+e.each.keys+"){with(this){return "+(e.when?J(e):B(e))+"}},this)"}function J(e){return"(("+e.when+")?"+B(e)+":null)"}function W(e){return"["+e.children.map(Y).join(",")+"]"}function G(e){function t(t,n){o.push(s(f(e.slice(t,n))))}for(var n=0,r=0,i=-2,o=[];(r=e.indexOf("{{",i+2))>=0&&(i=e.indexOf("}}",r+2))>=0;n=i+2)n<r&&t(n,r),r<i-2&&function(t,n){var r=$(f(e.slice(t,n)));r&&o.push("("+r+")")}(r+2,i);return n<e.length&&t(n,e.length),o.join("+")}function $(e){for(var t,n=-1,r="|",i=e.length,o=k(e,function(t){return e.charAt(t+1)!==r&&e.charAt(t-1)!==r});n<i;){var a=e.slice(n+1,n=o(r,n+1)).trim();if(a)if(t){var u=a.match(gt);u&&(t="Elf.t("+s(u[1])+","+t+(u[2]?","+u[2]:"")+")")}else t=a}return t}function Z(e){return"{"+Ge(e.props,function(e,t){return"cmd"===t?s(t)+":Elf.d("+G(e)+")":u(t,Ht)?s(t)+":function($event){with(this){return "+e+"}}.bind(this)":s(t)+":"+(e?G(e):s(e))}).join(",")+"}"}function Q(e,t){if(e.append){for(;t.firstChild;)t.removeChild(t.firstChild);F(t,e.target)}}function _(e){E(e,b())}function ee(e,t){return new Function("define",e)(ae(t)),Kt[t]}function te(e,t){return ee(ts.transpile(e,{module:ts.ModuleKind.AMD,target:ts.ScriptTarget.ES5,experimentalDecorators:!0,emitDecoratorMetadata:!0,inlineSourceMap:!0,sourceMap:!0,jsx:ts.JsxEmit.React,jsxFactory:"Elf.createElement"},t)+"\n//# sourceURL="+t+".map",t)}function ne(e,t){var n=L(e),r=j("style");return D(r,Ot,"text/css"),F(r,n),F(ft,r),re(r,t)}function re(e,t){return xe({exports:e,dirname:he(t)})}function ie(e){return function(t,n){return _e(function(r){Sass.compile(t,{style:Sass.style.expanded,indentedSyntax:e},function(e){e.status?r.loss(e):ne(e.text,n).then(r.next)})})}}function oe(e,t){return re(c(e),t)}function ae(e){return function(){var n=t.call(arguments),r=n.pop(),i=n.pop()||[],o=n.pop()||e;Kt[o]=xe({dirname:he(e),depends:i,trustor:r})}}function ue(e){return function(t){return(Kt[t]||se(fe(t)||le(/^\//.test(t)?t:/^\./.test(t)?e+"/"+t:(Jt.baseURL||"")+"/"+t))).then(function(e){return e.exports||(e.exports=ce(e))})}}function ce(e){var t={},n={exports:{}};return"function"==typeof e.trustor?be(e.depends.map(function(r){return"require"===r?t:"exports"===r?n.exports:"module"===r?n:ue(e.dirname)(r)})).then(function(r){function i(t){return r[e.depends.indexOf(t)]}return e.trustor.apply(at,r.map(function(e){return e===t?i:e}))||n.exports}):xe(e.trustor)}function se(e){return Kt[e]||(Kt[e]=ke({url:pe(e)}).then(function(t){return(en[y(e.substr(e.lastIndexOf(".")+1))]||re)(t.text(),e)}))}function fe(e){return Jt.mapping&&Jt.mapping[e]}function le(e){var t=ct.host,n=ct.protocol,r=e.split(/\/+/);/\w+:$/.test(r[0])&&(n=r.shift(),t=r.shift(),r.unshift());for(var i=0;i<r.length;)"."!==r[i]?(".."===r[i]&&i>0&&r.splice(--i,2),++i):r.splice(i,1);var o=r.join("/");return r.pop().indexOf(".")<0&&(o=o+"."+(Jt.defaultExtension||"js")),n+"//"+t+"/"+o.replace(/^\/+/,"")}function pe(e){return Jt.routing?Jt.routing(e):e}function he(e){return e.replace(/[^\/]+$/,"")}function de(e){this[Nt]===Rt&&(this[Nt]=At,this[Pt]=e,this[jt].forEach(b(this,e)))}function me(e){this[Nt]===Rt&&(this[Nt]=Ct,this[Pt]=e,this[Ft].forEach(b(this,e)))}function ve(e,t){tn.isPrototypeOf(e)?(e.then(t.next),e.fail(t.loss)):t.next(e)}function ge(e,t){tn.isPrototypeOf(e)?(e.then(t.next),e.fail(t.loss)):t.loss(e)}function xe(e){return _e(function(t){t.next(e)})}function ye(e){return _e(function(t){t.loss(e)})}function be(e){return _e(function(t){var n=0,r=e.length,i=new Array(r);r?e.forEach(function(e,o){ve(e,{next:function(e){i[o]=e,++n===r&&t.next(i)},loss:t.loss})}):t.next(i)})}function Ee(e){return _e(function(t){e.length?e.forEach(function(e){ve(e,t)}):t.next()})}function ke(e){return _e(function(t){return e.jsonp?T(e,t):O(e,t)})}function we(){this.bubbles=!1}function Oe(){this.refresh=!1}function Te(e){var t={},n=e.target[Mt];for(var r in e)l(_t,r)&&(t[r]=e[r]);e.stopPropagation(),t.refresh=!0,t.originalEvent=e,t.stopPropagation=we,t.preventRefresh=Oe,t.preventDefault=function(){this.originalEvent.preventDefault(),this.defaultPrevented=!0},n.dispatchEvent(t),t.refresh&&R()}function Se(e,t){return o(e)&&o(t)?e.type===t.type:r(e)===r(t)&&i(e)===i(t)}function Re(e,t){var n={append:{},remove:{},update:{}};for(var r in e)l(t,r)?w(e[r],t[r])||(n.update[r]={oldValue:e[r],newValue:t[r]}):n.remove[r]=e[r];for(var r in t)l(e,r)||(n.append[r]=t[r]);return n}function Ae(e){return y(e.substr(Ht.length))}function Ce(e){return $t[e]||e}function Le(e,t,n,r,i,o,a){for(var u=0;u<e.length;u++){var c=nt(e[u],i),s=c.initial(n,r,o);s.append&&F(t,s.target),a.push(c)}}function je(e,t,n,r,i,o){for(var a in e)u(a,Ht)?i.attachEvent(Ae(a),e[a]):o&&D(t,Ce(a),e[a])}function Fe(e,t,n,r,i,o){for(var a=0;a<e.length;a++){var u=et(e[a]);u[Ut]&&u[Ut](t,n,r,i),o.push(u)}}function Ne(e,t,n){e&&(n.refs[e]=t)}function Pe(e,t){e[Ut]&&t.push(e[Ut].bind(e))}function Me(e,t){E(e,function(e){e.dispose(t)})}function qe(e,t,n,r,i,o){for(var a in e)u(a,Ht)?i.detachEvent(Ae(a),e[a]):o&&I(t,Ce(a))}function De(e,t){E(e,function(e){e[zt]&&e[zt](t)})}function Ie(e,t){e&&delete t.refs[e]}function Ve(e){e[zt]&&e[zt]()}function He(e,t,n){e.dispose(function(e,r){n&&q(t,r,Te)})}function Ue(e,t,n,r){e!==t&&(Ie(e,r),Ne(t,n,r))}function ze(e,t,n,r,i,o,a,u){for(var c,s,f=[],l=!1,p={},h={},d=0;d<t.length;d++){var m=t[d],v=m.key||d;p[v]={value:m,index:d}}for(var d=0;d<u.length;d++){var g=u[d],m=g.element,v=m.key||d;h[v]={value:m,index:d}}for(var d=0;d<u.length;d++){var g=u[d],m=g.element,v=m.key||d,x=function(e,t){var n=p[t];return n&&Se(e,n.value)?n.index:-1}(m,v);-1===x&&g.dispose()}for(var d=0;d<t.length;d++){var m=t[d],v=m.key||d,x=function(e,t){var n=h[t];return n&&Se(e,n.value)?n.index:-1}(m,v);-1===x?(c=nt(m,o),s=c.initial(r,i,a),l=!0):(c=u[x],s=c.renewal(r,i,a,m)),(l||s.append||x<d)&&F(n,s.target),f.push(c)}E(u,st),u.push.apply(u,f)}function Xe(e,t,n,r,i,o,a){var c=Re(e,t),s=c.append,f=c.remove,l=c.update;qe(f,n,r,i,o,a),je(s,n,r,i,o,a);for(var p in l)u(p,Ht)?o.emitter.replace(Ae(p),l[p].oldValue,l[p].newValue):a&&D(n,Ce(p),l[p].newValue)}function Ye(e,t,n,r,i,o,a){for(var u=[],c=0;c<a.length;c++){var s=function(e){for(var n=0;n<t.length;n++)if(e instanceof t[n])return n;return-1}(a[c]);-1===s&&a[c][zt]&&a[c][zt](n)}for(var c=0;c<t.length;c++){var s=function(e){for(var t=0;t<a.length;t++)if(a[t]instanceof e)return t;return-1}(t[c]);if(-1===s){var f=et(t[c]);f[Ut]&&f[Ut](n,r,i,o),u.push(f)}else u.push(a[s])}E(a,st),a.push.apply(a,u)}function Be(e,t){var n=this,r=n.connate,i=n.emitter,o=n.example;i.enqueue(e,t)&&r&&M(o,e,Te)}function Ke(e,t){var n=this,r=n.connate,i=n.emitter,o=n.example;i.unqueue(e,t)&&r&&q(o,e,Te)}function Je(e,t){var n=this,r=n.connate,i=n.emitter,o=n.example,a=n.creator;r===t&&i.trigger(e.type,b(o,e)),e.bubbles&&a.trigger(e,t)}function We(e){var t=this,n=t.connate,r=t.example;e.target=r,t.trigger(e,n)}function Ge(e,t,r){if(n(e))return e.map(t,r);var i=[];for(var o in e)i.push(t.call(r,e[o],o,e));return i}function $e(e){return function(t){return e[t]||Xt[t]||y(t)}}function Ze(e){return function(t){for(var n,r=[];n=t.match(dt);t=t.substr(n[0].length)){var i=n[1];l(e,i)?v(r,e[i]):l(Yt,i)&&v(r,Yt[i])}return r}}function Qe(e){return function(n,i){var o=t.call(arguments,1);if(l(e,n)){var a=et(e[n]);return a.transform.apply(a,o)}if(l(Bt,n)){var a=et(Bt[n]);return a.transform.apply(a,o)}return r(i)?i:""}}function _e(e){var t=Object.create(tn);return t.constructor(e),t}function et(e){return e[Vt]||(e[Vt]=new e)}function tt(e){return{trigger:function(t,n){n&&P(e,t.originalEvent)}}}function nt(e,t){return Object.create(r(e)?o(e)?a(e.type)?rn:nn:on:an,{element:h(e),creator:h(t)})}function rt(e,t,n){var r=Object.create(e.prototype);return p(r,Mt,n),p(r,"props",t),p(r,"refs",{}),r.constructor(),r}function it(e,t,n){var r=j(e,t);return p(r,Mt,n),r}function ot(){function e(e){return n[e]||(n[e]=[])}function t(e){return n[e]}var n={};return{enqueue:function(t,r){return e(t)&&g(n[t],r)},unqueue:function(e,r){return t(e)&&x(n[e],r)},replace:function(e,r,i){if(t(e)){var o=n[e].indexOf(r);if(o>=0)return n[e].splice(o,1,i),!0}return!1},trigger:function(e,r){t(e)&&n[e].forEach(r)},dispose:function(e){Ge(n,e),n={}}}}var at=window,ut=document,ct=location,st=function(){},ft=ut.querySelector("head"),lt=j("div"),pt=/[A-Z]/g,ht=/[-:\w]+/,dt=/[,\s]*([^,\s]+)[,\s]*/,mt=/([^\s].*)\s+(?:in|of)\s+(.*[^\s])/,vt=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"|'([^']*)'|([^\s"'<>\/=]+)))?/,gt=/([\w]+)(?:\s+([\s\S]*)?)?/,xt="<",yt="</",bt="\x3c!--",Et="--\x3e",kt=">",wt="load",Ot="type",Tt="error",St="src",Rt="PENDING",At="RESOLVED",Ct="REJECTED",Lt="ELF:DISPOSE",jt="ELF:SUCCESS",Ft="ELF:FAILURE",Nt="ELF:PROCESS",Pt="ELF:CONTENT",Mt="ELF:RENDERER",qt="ELF:COMPONENT",Dt="ELF:DIRECTIVE",It="ELF:TRANSFORM",Vt="ELF:SINGLETON",Ht="on",Ut="onInitial",zt="onDispose",Xt={},Yt={},Bt={},Kt={},Jt={},Wt=[],Gt=!0,$t={autoFocus:"autofocus",autoPlay:"autoplay",class:"className",for:"htmlFor",novalidate:"noValidate",formnovalidate:"formNoValidate",readonly:"readOnly",accentHeight:"accent-height",acceptCharset:"accept-charset",alignmentBaseline:"alignment-baseline",altimgHeight:"altimg-height",altimgValign:"altimg-valign",altimgWidth:"altimg-width",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",httpEquiv:"http-equiv",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlSpace:"xml:space"},Zt={async:2,autofocus:2,autoplay:2,checked:2,className:3,controls:2,default:2,defaultValue:3,defaultChecked:2,defer:2,disabled:2,hidden:2,htmlFor:3,innerHTML:3,loop:2,multiple:2,muted:2,noValidate:2,formNoValidate:2,open:2,readOnly:2,required:2,reversed:2,scoped:2,selected:2,style:1,value:3,children:9},Qt={area:0,base:0,br:0,col:0,embed:0,hr:0,img:0,input:0,keygen:0,link:0,menuitem:0,meta:0,param:0,source:0,track:0,wbr:0},_t={altKey:0,animationName:0,bubbles:0,button:0,buttons:0,cancelable:0,changedTouches:0,charCode:0,clientX:0,clientY:0,clipboardData:0,ctrlKey:0,data:0,dataTransfer:0,defaultPrevented:0,deltaMode:0,deltaX:0,deltaY:0,deltaZ:0,detail:0,elapsedTime:0,eventPhase:0,isTrusted:0,key:0,keyCode:0,locale:0,location:0,metaKey:0,pageX:0,pageY:0,propertyName:0,pseudoElement:0,relatedTarget:0,repeat:0,screenX:0,screenY:0,shiftKey:0,target:0,targetTouches:0,timeStamp:0,touches:0,type:0,which:0},en={js:ee,ts:te,tsx:te,css:ne,sass:ie(!0),scss:ie(!1),json:oe},tn={constructor:function(e){p(this,Nt,Rt),p(this,jt,[]),p(this,Ft,[]),p(this,Pt);try{p(this,Lt,e({next:de.bind(this),loss:me.bind(this)}))}catch(e){me.call(this,e)}},dispose:function(){this[Lt]&&this[Lt]()},then:function(e){return _e(function(t){return this[Nt]===Rt?v(this[jt],function(n){ve(e(n),t)}):this[Nt]===At?ve(e(this[Pt]),t):this[Nt]===Ct?t.loss(this[Pt]):void 0}.bind(this))},fail:function(e){return _e(function(t){return this[Nt]===Rt?v(this[Ft],function(n){ge(e(n),t)}):this[Nt]===Ct?ge(e(this[Pt]),t):this[Nt]===At?t.next(this[Pt]):void 0}.bind(this))}},nn={initial:function(e,t,n){var r=this,i=r.element,o=i.props,a=i.type,u=i.cmd,c=i.ref,s=!1,f=[],l=ot(),p=rt(a,o,r),h=nt(p.render(),r),d=h.initial(p,t,n);return r.connate=s,r.behests=f,r.emitter=l,r.example=p,r.manager=h,Pe(p,n),Ne(c,p,e),je(o,p,e,t,r,s),Fe(u,p,e,t,o,f),d},renewal:function(e,t,n,r){var i,o=this,a=o.element,u=o.connate,c=o.behests,s=o.example,f=o.manager,l=r.props,p=r.cmd,h=r.ref;o.element=r,s.props=l;var d=f.element,m=s.render(),v=a.props,g=a.cmd,x=a.ref;return Se(d,m)?i=f.renewal(e,t,n,m):(f.dispose(),f=nt(m,o),i=f.initial(s,t,n),o.manager=f),Xe(v,l,s,e,t,o,u),Ye(g,p,s,e,t,l,c),Ue(x,h,s,e),i},dispose:function(e){var t=this,n=t.element.ref,r=t.connate,i=t.behests,o=t.example,a=t.emitter,u=t.manager;Ve(o),Ie(n,e),De(i,o),He(a,o,r),u.dispose(o)},trigger:Je,attachEvent:Be,detachEvent:Ke,dispatchEvent:We},rn={initial:function(e,t,n){var r=this,i=r.element,o=i.props,a=o.children,u=i.type,c=i.cmd,s=i.ref,f=!0;"svg"===u&&(t="http://www.w3.org/2000/svg"),"math"===u&&(t="http://www.w3.org/2000/MathML");var l=[],p=[],h=ot(),d=it(u,t,r);return r.connate=f,r.members=l,r.behests=p,r.emitter=h,r.example=d,Ne(s,d,e),Le(a,d,e,t,r,n,l),je(o,d,e,t,r,f),Fe(c,d,e,t,o,p),{target:d,append:!0}},renewal:function(e,t,n,r){var i=this,o=i.element,a=i.connate,u=i.behests,c=i.example,s=i.members,f=r.props,l=f.children,p=r.type,h=r.cmd,d=r.ref;"svg"===p&&(t="http://www.w3.org/2000/svg"),"math"===p&&(t="http://www.w3.org/2000/MathML"),i.element=r;var m=o.props,v=m.children,g=o.cmd;return Ue(o.ref,d,c,e),ze(v,l,c,e,t,i,n,s),Xe(m,f,c,e,t,i,a),Ye(g,h,c,e,t,f,u),{target:c,append:!1}},dispose:function(e){var t=this,n=t.element.ref,r=t.connate,i=t.behests,o=t.members,a=t.example,u=t.emitter;Ie(n,e),Me(o,e),De(i,a),He(u,a,r),N(a)},trigger:Je,attachEvent:Be,detachEvent:Ke,dispatchEvent:We},on={initial:function(){var e=this,t=e.element,n=L(t);return e.example=n,{target:n,append:!0}},renewal:function(e,t,n,r){var i=this,o=i.example,a=i.element,u=r;return a!==u&&(i.element=u,o.textContent=r),{target:o,append:!1}},dispose:function(){N(this.example)}},an={initial:function(){var e=this,t=C("");return e.example=t,{target:t,append:!0}},renewal:function(){return{target:this.example,append:!1}},dispose:function(){N(this.example)}};_e.next=xe,_e.loss=ye,_e.when=be,_e.race=Ee,_e.ajax=ke,e.Promise=_e,e.Trustor=en,e.require=function(e){return ue(Jt.baseURL||"")(e)},e.setTimeout=function(e,t){return{dispose:clearTimeout.bind(at,setTimeout(d(e),t))}},e.setInterval=function(e,t){return{dispose:clearInterval.bind(at,setInterval(d(e),t))}},e.setImmediate=function(e){return{dispose:cancelAnimationFrame.bind(at,requestAnimationFrame(d(e)))}},e.createClass=function(e){return function(t){return t.prototype=e,t}(function(e){return function(){e.apply(this,arguments)}}(e.constructor||st))},e.createEvent=function(e,t,n){return{type:y(e),value:n,bubbles:!!t,refresh:!1,cancelable:!1,defaultPrevented:!1,target:null,preventDefault:st,preventRefresh:Oe,stopPropagation:we}},e.attachEvent=function(e,t,n){l(e,Mt)?e[Mt].attachEvent(t,n):M(e,t,n)},e.detachEvent=function(e,t,n){l(e,Mt)?e[Mt].detachEvent(t,n):q(e,t,n)},e.dispatchEvent=function(e,t){l(e,Mt)?e[Mt].dispatchEvent(t):P(e,t.originalEvent||t)},e.createElement=function(e,n){var i=n||{},o=m(t.call(arguments,2)),a={props:{},type:e,cmd:i.cmd||[],key:i.key,ref:i.ref};for(var u in i)"cmd"!==u&&"key"!==u&&"ref"!==u&&r(i[u])&&(a.props[u]=i[u]);return p(a.props,"children",o),a},e.redactElement=function(n){if(a(n)){var i={},o={},u={};m(t.call(arguments,1)).forEach(function(e){l(e,qt)&&p(i,e[qt],e),l(e,Dt)&&p(o,e[Dt],e),l(e,It)&&p(u,e[It],e)});var c={v:e.createElement,m:Ge,c:$e(i),d:Ze(o),t:Qe(u)},s=new Function("Elf","with(this){return "+Y(X(n.trim()))+"}");return function(){return s.call(r(this)&&this!==at?this:{},c)}}return n},e.forceUpdate=function(e){Wt.forEach(function(t){(e||t.duplex)&&t.forceUpdate()})},e.Component=function(e,t){return function(n){return t&&(n.prototype.render=t),p(n,qt,e)}},e.Directive=function(e){return function(t){return p(t,Dt,e)}},e.Transform=function(e){return function(t){return p(t,It,e)}},e.render=function(t,n,r){var i={refs:{},duplex:r,dispose:function(){a.dispose(),c.dispose()},forceUpdate:function(r){Q(c.renewal(i,null,o,t=e.createElement(t.type,r||t.props,t.children)),n),_(o)}},o=[],a=A(i),u=tt(n),c=nt(t,u);return Q(c.initial(i,null,o),n),_(o),i},e.depend=function(){m(t.call(arguments)).forEach(function(e){l(e,qt)&&p(Xt,e[qt],e),l(e,Dt)&&p(Yt,e[Dt],e),l(e,It)&&p(Bt,e[It],e)})},e.config=function(e){Jt=e},e.set=function(e,t){Kt[e]=re(t,e)}}(this.Elf={});